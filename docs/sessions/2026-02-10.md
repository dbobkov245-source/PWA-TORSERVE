# Сессия 10.02.2026: Стабилизация качества постеров и Android TV поиска

## Цель
Повысить стабильность отображения quality-бейджей на главной странице и убрать нестабильность торрент-поиска на Android TV без риска сломать anti-blocking цепочки.

## Выполнено

### 1) Android TV torrent search (Mixed Content fallback)
- Добавлен fallback на `CapacitorHttp` для `/api/v2/search` при сбое `fetch` в Android WebView.
- Кнопка принудительного обновления `↻` в `SearchPanel` зарегистрирована в spatial-навигации (`useSpatialItem('search')`), стала доступна с ТВ-пульта.

### 2) Quality Badges на главной (частичное заполнение постеров)
- Очередь quality-запросов поднята на уровень HomePanel (единый pipeline вместо отдельного на каждую строку).
- В клиенте:
  - уменьшен размер batch,
  - добавлены таймауты и fallback до одиночного тайтла,
  - отключено длительное кэширование пустых результатов.
- В карточке постера добавлен fallback по `original_title/original_name`.
- На сервере `qualityDiscovery` добавлен быстрый путь через `jacred` с fallback к агрегатору только при ошибке fast-провайдера.

### 3) Android build pipeline
- Зафиксирован корректный порядок сборки для актуальных ассетов:
  1. `npm run build`
  2. `npx cap copy android`
  3. `./gradlew assembleDebug --rerun-tasks` (при необходимости `clean`)

## Результат
- Torrent-search на Android TV стал стабильнее.
- Quality-бейджи на главной стали заполняться заметно лучше (подтверждено пользовательской проверкой).
- Собран и проверен актуальный `app-debug.apk`.
