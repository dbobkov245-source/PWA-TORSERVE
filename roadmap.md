# üó∫Ô∏è PWA-TorServe ‚Äî ROADMAP

> –≠—Ç–æ—Ç —Ñ–∞–π–ª ‚Äî –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á,  
> –∞ **–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –ø–∞–º—è—Ç—å –ø—Ä–æ–µ–∫—Ç–∞**.
>
> –û–Ω —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç:
> - –∑–∞—á–µ–º –±—ã–ª–∏ –ø—Ä–∏–Ω—è—Ç—ã –∫–ª—é—á–µ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è
> - —á—Ç–æ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ
> - –∫–∞–∫–∏–µ —à–∞–≥–∏ –ª–æ–≥–∏—á–Ω–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ
>
> **‚ö†Ô∏è Timeline Disclaimer:** –í–µ—Ä—Å–∏–∏ –Ω–∏–∂–µ –æ—Ç—Ä–∞–∂–∞—é—Ç –•–†–û–ù–û–õ–û–ì–ò–Æ –†–ê–ó–†–ê–ë–û–¢–ö–ò, –∞ –Ω–µ –ª–∏–Ω–µ–π–Ω—ã–π roadmap –≤–ø–µ—Ä—ë–¥. –ê–∫—Ç—É–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—á–∞—è –≤–µ—Ä—Å–∏—è –≤—Å–µ–≥–¥–∞ —É–∫–∞–∑–∞–Ω–∞ —è–≤–Ω–æ.

---

## üéØ North Star (–¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞)

**PWA-TorServe** ‚Äî self-hosted middleware –¥–ª—è:
- –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ —Ç–æ—Ä—Ä–µ–Ω—Ç-–∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞ —Ä–µ–ª–∏–∑–æ–≤
- —Å—Ç—Ä–∏–º–∏–Ω–≥–∞ —Ç–æ—Ä—Ä–µ–Ω—Ç–æ–≤ –≤ PWA / Android TV –∫–ª–∏–µ–Ω—Ç

–ü—Ä–æ–µ–∫—Ç:
- ‚ùå –Ω–µ —Ö–æ—Å—Ç–∏—Ç –∫–æ–Ω—Ç–µ–Ω—Ç
- ‚ùå –Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç Jackett / Prowlarr
- ‚úÖ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ —É—Å—Ç–æ–π—á–∏–≤—É—é —Ä–∞–±–æ—Ç—É –≤ —É—Å–ª–æ–≤–∏—è—Ö –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ (–†–§)
- ‚úÖ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω –Ω–∞ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ –±–µ–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–≥–æ –¥–æ–ª–≥–∞

---

## üïí v3.1: Operation "Unstoppable" ‚Äî [ARCHIVED]

**Status:** üèÅ ARCHIVED  
**Outcome:** Unified Network Layer, DoH, Aggregator.

*–°–º. `v3.1 Legacy` –≤ –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π.*

---

## üïí v3.2: Stabilization ‚Äî [COMPLETED]

**Status:** ‚úÖ COMPLETED  
**Focus:** –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫, –≤–∫–ª—é—á–µ–Ω–∏–µ Client DoH, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ–¥ —Å–ª–∞–±–æ–µ –∂–µ–ª–µ–∑–æ.

| ID | Task Name | Status | Notes |
|---|---|---|---|
| **BUG-01** | **Fix Modal Trap** | ‚úÖ DONE | `TorrentModal.jsx` focus trap implemented. |
| **BUG-02** | **Memory Leak Patch** | ‚úÖ DONE | `server/torrent.js` Interval cleanup fixed. |
| **BUG-03** | **Search Providers Sync** | ‚úÖ DONE | Polling API endpoint. |
| **ARC-02** | **Client DoH** | ‚úÖ DONE | `tmdbClient.js` uses DoH / Waterfall. |
| **SEC-01** | **Global Error Boundary** | ‚úÖ DONE | `ErrorBoundary.jsx`. |
| **BUG-04** | **Modal Focus Loss** | ‚ö†Ô∏è ACCEPTED | **Limitation:** Partially fixed via Zone Management. |

---

## üöÄ v3.3: TMDB Rehab & TV Core ‚Äî [ACTIVE]

**Status:** üö¶ ACTIVE  
**Focus:** Fix TV Navigation Graph, Rehabilitate TMDB as a Graph, Stabilize Android Player Lifecycle.

### üì¶ Batch 1: TV Core & Navigation
| ID | Task Name | Priority | Status | Description |
|---|---|---|---|---|
| **TV-01** | **Series Card Focus Graph** | ‚úÖ DONE | ‚úÖ | Fix D-Pad Trap & Focus Graph logic. |
| **TV-02** | **Focus Visuals Fix** | ‚úÖ DONE | ‚úÖ | Fix Clipped Rings in Season cards. |
| **UX-12** | **Season Detail View** | ‚úÖ DONE | ‚úÖ | Season click opens Detail View (no search). |
| **UX-13** | **Smart Query Generation** | ‚úÖ DONE | ‚úÖ | `Name S02` normalization. |

### üì¶ Batch 2: Android Lifecycle
| ID | Task Name | Priority | Status | Description |
|---|---|---|---|---|
| **AND-01** | **Intent Lifecycle Fix** | ‚úÖ DONE | ‚úÖ | `FLAG_ACTIVITY_SINGLE_TOP`. |
| **AND-02** | **Player Preference Verification** | ‚úÖ DONE | ‚úÖ | Verify Intent package selection. |
| **AND-03** | **Double Player Launch Guard** | ‚úÖ DONE | ‚úÖ | Race condition guard `isPlaying`. |

### üì¶ Batch 3: TMDB Content Graph (Current Focus)
| ID | Task Name | Priority | Status | Description |
|---|---|---|---|---|
| **TMDB-01** | **Recommendations & Similar** | ‚úÖ DONE | ‚úÖ | "Similar Movies" row with recursion. |
| **TMDB-02** | **Actor Filmography** | ‚úÖ DONE | ‚úÖ | Person Graph navigation. |
| **TMDB-03** | **Clickable Genres** | ‚úÖ DONE | ‚úÖ | Genre Badge navigation. |
| **TMDB-04** | **Unified Graph Nav** | ‚úÖ DONE | ‚úÖ | Consolidated navigation stack. |

### üìâ Backlog
* **FEAT-01:** –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–ñ–∞–Ω—Ä—ã, –°—Ç—Ä–∞–Ω—ã, –ì–æ–¥—ã) ‚Äî **NEXT**.
* **Secondary Metadata Cache:** (SHOULD) Cache filmography/recommendations.
* **Episode Metadata:** (SHOULD) Fetch episode names/descriptions.

---

## üîÆ v4.0: Lampa Integration ‚Äî [PLANNED]

**Status:** üö¶ PLANNED  
**Focus:** –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —Å–∏–Ω–≥—É–ª—è—Ä–Ω–æ—Å—Ç—å —Å Lampa.

*   **Registry-Based Discovery:** `ContentRowsRegistry`.
*   **Global Spatial Controller:** `NavigationContext`.
*   **Transform-Based Scrolling:** `transform: translateX()`.

---

## üìú ADR (Architecture Decision Records)

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:

*   [**ADR-002: Zone Management**](docs/adr/ADR-002-Zone-Management.md) ‚Äî (Locked 01.02.2026) –ü–æ—á–µ–º—É `activeView` –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∏—Ç–∏—á–Ω–∞ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.
*   [**ADR-003: Sidebar / NUM Navigation Model**](docs/adr/ADR-003-Sidebar-Navigation.md) ‚Äî (Locked 01.02.2026) –ï–¥–∏–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏ –æ—Ç–∫–∞–∑ –æ—Ç –ª–æ–≥–∏–∫–∏ –≤ Sidebar.

---

## üóìÔ∏è Session Logs (Archive)

–ò—Å—Ç–æ—Ä–∏—è —Å–µ—Å—Å–∏–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

*   [**2026-02-01**](docs/sessions/2026-02-01.md) ‚Äî Fix BUG-FREEZE, UI Polish.
*   [**2026-01-31**](docs/sessions/2026-01-31.md) ‚Äî My List Freeze debugging, Search focus fix.
*   [**2026-01-26**](docs/sessions/2026-01-26.md) ‚Äî Backend Fixes, Navigation Dead Zones (failed attempt).

---

## üêõ Known Bugs & Limitations

| ID | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|----|----------|--------|-------------|
| **BUG-04** | **Modal Focus Loss** | ‚ö†Ô∏è ACCEPTED | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã React state. |
| **OPT-01** | **List Virtualization** | ‚õî FROZEN | –†–∏—Å–∫ –ø–æ–ª–æ–º–∫–∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏. |

---