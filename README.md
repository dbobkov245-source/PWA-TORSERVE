# üì∫ PWA-TorServe

**–°–∞–º–æ–≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—â–∏–π—Å—è —Å—Ç—Ä–∏–º–∏–Ω–≥–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è Android TV –∏ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤.**
–ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–º–æ—Ç—Ä–µ—Ç—å —Ç–æ—Ä—Ä–µ–Ω—Ç—ã –æ–Ω–ª–∞–π–Ω –±–µ–∑ –ø–æ–ª–Ω–æ–≥–æ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è, —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤–Ω–µ—à–Ω–∏—Ö –ø–ª–µ–µ—Ä–æ–≤ (Vimu, VLC, MX Player) –Ω–∞ Android TV.

![Dashboard Screenshot](https://raw.githubusercontent.com/your-username/your-repo/main/docs/screenshot.png)
*(–ó–∞–º–µ–Ω–∏—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–Ω—à–æ—Ç)*

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

*   üöÄ **–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π —Å—Ç—Ä–∏–º–∏–Ω–≥**: –ù–∞—á–∏–Ω–∞–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –≤–∏–¥–µ–æ –µ—â–µ –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏.
*   üì± **Native Android Bridge**: –£–º–µ–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–ª–µ–µ—Ä—ã (Vimu, VLC) –ø—Ä—è–º–æ –∏–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (PWA), –æ–±—Ö–æ–¥—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è WebView.
*   üõ°Ô∏è **Self-Healing Watchdog**:
    *   –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ (RAM).
    *   –°–ª–µ–¥–∏—Ç –∑–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (NAS/Disk).
    *   –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã –≤ —Å–ª—É—á–∞–µ —Å–±–æ–µ–≤ (Circuit Breaker).
*   üßπ **File Hygiene**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞–µ—Ç —Å—Ç–∞—Ä—ã–µ –∏ —É–¥–∞–ª–µ–Ω–Ω—ã–µ —Ç–æ—Ä—Ä–µ–Ω—Ç—ã, –Ω–µ –∑–∞—Å–æ—Ä—è—è –¥–∏—Å–∫.
*   üê≥ **Docker First**: –õ–µ–≥–∫–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–∞ Synology NAS, Raspberry Pi –∏–ª–∏ –ª—é–±–æ–º Linux-—Å–µ—Ä–≤–µ—Ä–µ.
*   üîç **PWA Client**: –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Android, iOS –∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

*   **Backend**: Node.js, Express, `torrent-stream` (protocol implementation), `lowdb` (JSON DB).
*   **Frontend**: React, Vite, TailwindCSS.
*   **Mobile/TV**: Capacitor (–¥–ª—è —Å–±–æ—Ä–∫–∏ APK –∏ –Ω–∞—Ç–∏–≤–Ω—ã—Ö –ø–ª–∞–≥–∏–Ω–æ–≤).
*   **DevOps**: Docker, Docker Compose (Multi-stage builds).

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (Server)

### –í–∞—Ä–∏–∞–Ω—Ç 1: Docker (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è Synology NAS –∏–ª–∏ Linux —Å–µ—Ä–≤–µ—Ä–æ–≤.

1.  –°–∫–∞—á–∞–π—Ç–µ `docker-compose.yml`.
2.  –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—É—Ç–∏ –∫ –ø–∞–ø–∫–µ –∑–∞–≥—Ä—É–∑–æ–∫:
    ```yaml
    volumes:
      - /your/storage/path/downloads:/app/downloads
    ```
3.  –ó–∞–ø—É—Å—Ç–∏—Ç–µ:
    ```bash
    docker-compose up -d
    ```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –õ–æ–∫–∞–ª—å–Ω–æ (Node.js)

```bash
cd server
npm install
npm start
```

---

## üì± –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (Client)

### Android TV / Phone (APK)
1.  –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É `client`.
2.  –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:
    ```bash
    npm install
    npm run build
    npx cap sync
    ```
3.  –°–æ–±–µ—Ä–∏—Ç–µ APK —á–µ—Ä–µ–∑ Android Studio –∏–ª–∏ Gradle:
    ```bash
    cd android
    ./gradlew assembleDebug
    ```
4.  –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `app-debug.apk` –Ω–∞ –¢–í-–±–æ–∫—Å.

### Web (PWA)
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø–æ –∞–¥—Ä–µ—Å—É —Å–µ—Ä–≤–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `http://192.168.1.70:3000`).
–ù–∞ iOS –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å "–ù–∞ —ç–∫—Ä–∞–Ω ¬´–î–æ–º–æ–π¬ª".

---

## ‚ö° –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1.  –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
2.  –í—Å—Ç–∞–≤—å—Ç–µ **Magnet-—Å—Å—ã–ª–∫—É** –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞.
3.  –ù–∞–∂–º–∏—Ç–µ **Add**.
4.  –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≥—Ä—É–∑–∫–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö.
5.  –ù–∞–∂–º–∏—Ç–µ **‚ñ∂ WATCH** ‚Äî –≤–∏–¥–µ–æ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–º –ø–ª–µ–µ—Ä–µ (Vimu/VLC/System).

---

## üß± –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

*   `/server` ‚Äî Backend –ª–æ–≥–∏–∫–∞, Watchdog, API.
*   `/client` ‚Äî React-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (PWA).
*   `/client/android` ‚Äî Native Android –∫–æ–¥ (Java Bridge –¥–ª—è Intent'–æ–≤).
*   `Dockerfile` ‚Äî –ú—É–ª—å—Ç–∏—Å—Ç–∞–¥–∏–π–Ω–∞—è —Å–±–æ—Ä–∫–∞ –¥–ª—è production.

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–ü—Ä–æ–µ–∫—Ç –Ω–µ —Ö—Ä–∞–Ω–∏—Ç –ø–∞—Ä–æ–ª–∏ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ ENV –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ.
–ö–æ–¥ –ø—Ä–æ—à–µ–ª –∞—É–¥–∏—Ç –Ω–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ö–∞—Ä–¥–∫–æ–¥–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤.

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License.
